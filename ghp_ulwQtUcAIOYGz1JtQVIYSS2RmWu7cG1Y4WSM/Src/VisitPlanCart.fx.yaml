VisitPlanCart As screen:
    Fill: |-
        =RGBA(
            255,
            255,
            255,
            1
        )
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)

    Header_9 As Header:
        ScreenName: ="Visits Planning"

    "'Bottom Bar_10' As 'Bottom Bar'":
        Y: =1026
        ZIndex: =3

    Rectangle2 As rectangle:
        BorderColor: =RGBA(0, 0, 0, 0)
        BorderStyle: =BorderStyle.None
        BorderThickness: =2
        DisabledFill: =RGBA(166, 166, 166, 1)
        Fill: =RGBA(0, 120, 212, 1)
        FocusedBorderThickness: =4
        Height: =498
        HoverFill: =RGBA(0, 120, 212, 1)
        PressedFill: =RGBA(0, 120, 212, 1)
        Width: =27
        ZIndex: =4

    Rectangle2_1 As rectangle:
        BorderColor: =RGBA(0, 0, 0, 0)
        BorderStyle: =BorderStyle.None
        BorderThickness: =2
        DisabledFill: =RGBA(166, 166, 166, 1)
        Fill: =RGBA(0, 120, 212, 1)
        FocusedBorderThickness: =4
        Height: =498
        HoverFill: =RGBA(0, 120, 212, 1)
        PressedFill: =RGBA(0, 120, 212, 1)
        Width: =27
        X: =613
        ZIndex: =5

    Canvas1_2 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =833
        Width: =Parent.Width
        Y: =215
        ZIndex: =6

        DataCard2_2 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =If(VP=1,254*CountRows(colAddLeadParty)+80,500)
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            Visit_planing As gallery.galleryVertical:
                AccessibleLabel: ="Order Gallery"
                BorderColor: =RGBA(0, 18, 107, 1)
                BorderStyle: =BorderStyle.None
                FocusedBorderThickness: =01
                Height: =254*CountRows(colAddLeadParty)
                Items: =colAddLeadParty
                Layout: =Layout.Vertical
                ShowScrollbar: =false
                TabIndex: =0
                TemplatePadding: =0
                TemplateSize: =257
                Visible: =If(VP=1,true,false)
                Width: =586
                X: =27
                Y: =9
                ZIndex: =1

                Button5_27 As button:
                    BorderColor: =RGBA(219, 219, 219, 1)
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    FontWeight: =FontWeight.Semibold
                    Height: =236
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =Color.White
                    OnSelect: |-
                        =/*Navigate('Leads Detail Page',ScreenTransition.CoverRight);
                        Set(varLeadData, ThisItem)*/
                         
                    RadiusBottomLeft: =20
                    RadiusBottomRight: =20
                    RadiusTopLeft: =20
                    RadiusTopRight: =20
                    Size: =24
                    Text: =""
                    Width: =586
                    Y: =10
                    ZIndex: =1

                Rectangle1_35 As rectangle:
                    AccessibleLabel: ="Rectangle1_7"
                    BorderColor: =RGBA(0, 18, 107, 1)
                    Fill: =ColorValue( LookUp('Environment Variable Definitions', 'Display Name'="Common Primary Background").'Default Value')//_VarGblAppColors.PrimaryBg
                    Height: =2
                    OnSelect: |-
                        =/*Navigate('Leads Detail Page',ScreenTransition.CoverRight);
                        Set(varLeadData, ThisItem)*/
                         
                    TabIndex: =0
                    Width: =586
                    Y: =106
                    ZIndex: =2

                Body1_124 As label:
                    BorderColor: =RGBA(0, 18, 107, 1)
                    Color: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderColor: =Color.Transparent
                    FocusedBorderThickness: =0.1
                    Font: =LookUp(c_EnvironmentVariable,'Display Name'="Common Heading Font").'Default Value'
                    FontWeight: =FontWeight.Bold
                    OnSelect: |-
                        =/*Navigate(
                            'Leads Detail Page',
                            ScreenTransition.CoverRight
                        );
                        Set(
                            varLeadData,
                            ThisItem
                        );
                        If(
                            ThisItem.Party.'Customer Type' = 'Party Type Choices'.Retailer,
                            Set(
                                varSelectedRetailerAttachedDistributor,
                                LookUp(
                                    OfflinePartiesCollection,
                                    'Customer Code' = ThisItem.Party.'Customer Code'
                                ).'Attached Distributor'.'Parties (new_partiesid)'
                            );
                            ,
                            Set(
                                varSelectedRetailerAttachedDistributor,
                                Blank()
                            )
                        );
                        */
                    Size: =16
                    TabIndex: =0
                    Text: =ThisItem.zx_Party.'Customer Name'
                    Tooltip: =
                    Width: =222
                    Wrap: =false
                    X: =94
                    Y: =25
                    ZIndex: =3

                Body1_126 As label:
                    BorderColor: =RGBA(0, 18, 107, 1)
                    Color: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderColor: =Color.Transparent
                    FocusedBorderThickness: =0.1
                    Font: =LookUp(c_EnvironmentVariable,'Display Name'="Common Heading Font").'Default Value'
                    Height: =35
                    OnSelect: |-
                        =/*Navigate(
                            'Leads Detail Page',
                            ScreenTransition.CoverRight
                        );
                        Set(
                            varLeadData,
                            ThisItem
                        );
                        If(
                            ThisItem.Party.'Customer Type' = 'Party Type Choices'.Retailer,
                            Set(
                                varSelectedRetailerAttachedDistributor,
                                LookUp(
                                    OfflinePartiesCollection,
                                    'Customer Code' = ThisItem.Party.'Customer Code'
                                ).'Attached Distributor'.'Parties (new_partiesid)'
                            );
                            ,
                            Set(
                                varSelectedRetailerAttachedDistributor,
                                Blank()
                            )
                        );
                        */
                    Size: =16
                    TabIndex: =0
                    Text: =ThisItem.zx_name
                    Tooltip: =
                    Wrap: =false
                    X: =94
                    Y: =64
                    ZIndex: =8

            Button43_2 As button:
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                DisplayMode: |-
                    =
                    
                    If(CountRows(Visit_planing.AllItems)=0,DisplayMode.Disabled,DisplayMode.Edit)
                Fill: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
                FontWeight: =FontWeight.Semibold
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                OnSelect: |
                    =ForAll(
                        colAddLeadParty As oneitem,
                        //Sequence(CountRows(colAddLeadParty)),
                        Patch(
                            'Visit.S',
                            Defaults('Visit.S'),
                            {
                                'Party Location': oneitem.zx_latitude & "," & oneitem.zx_longitude,
                                'Visit Type': If(oneitem.Date>Today(),
                                'Visit Type'.Planned,
                                'Visit Type'.Unplanned)
                                
                                ,
                                'Visit Status': 'Visit Status'.'Not Started',
                                Owner: LookUp(
                                    Users,
                                    'Primary Email' = User().Email
                                ),
                                Lead: oneitem.My_lead,
                                'Visit date': oneitem.Date,
                                Party: LookUp(
                                    'Parties.S',
                                    Parties = oneitem.zx_partiesid
                                ),
                                Contact: LookUp(
                                    'Contacts.S',
                                    Contacts = oneitem.My_lead.zx_Contact.Contacts
                                )
                            }
                        );
                        
                    );
                    Notify(
                        "Your record has been created",
                        NotificationType.Success,
                        2000
                    );
                    ClearCollect(
                        OfflineVisitCollection,
                        Filter(
                            'Visit.S',
                            'Owning User'.'Primary Email' = User().Email
                        )
                    );
                    Clear(colAddLeadParty);
                    Navigate(
                        'Start Visit',
                        ScreenTransition.CoverRight
                    );
                Size: =14
                Text: ="Confirm"
                Width: =106
                X: =507
                Y: =526
                ZIndex: =2

    "'Type Filter_2' As gallery.galleryHorizontal":
        AccessibleLabel: ="Party Toptab"
        BorderColor: =RGBA(0, 18, 107, 1)
        BorderStyle: =BorderStyle.None
        Height: =63
        Items: |-
            =Table(
                    {
                    Title: "Leads",
                    Id: 1
                },
                {
                    Title: "Accounts",
                    Id: 2
                }
            )
        OnSelect: =//Set(_VarActivetopTab, ThisItem.TabId)
        ShowScrollbar: =false
        TabIndex: =0
        TemplatePadding: =0
        TemplateSize: ='Type Filter_2'.Width/2
        Width: =588
        X: =27
        Y: =73
        ZIndex: =7

        Border_9 As button:
            BorderColor: |-
                =/*If(
                    _VarActivePartyTypeID = ThisItem.TabId,
                    ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' ),
                    ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Hover Color").'Default Value')
                )*/
            BorderStyle: =BorderStyle.None
            Color: |-
                =/*If(
                    _VarActivePartyTypeID = ThisItem.TabId,
                    Color.White,
                    ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
                )*/
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =2.5
            FontWeight: =FontWeight.Semibold
            Height: =54
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =
            OnSelect: =MY_Lead
            RadiusBottomLeft: =15
            RadiusBottomRight: =15
            RadiusTopLeft: =15
            RadiusTopRight: =15
            Size: =24
            Text: =""
            Width: =293
            X: =1
            Y: =3
            ZIndex: =1

        title_7 As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 18, 107, 1)
            BorderStyle: =BorderStyle.None
            Color: =
            DisabledColor: =RGBA(166, 166, 166, 1)
            FocusedBorderThickness: =0.3
            FontWeight: =FontWeight.Semibold
            Height: =60
            OnSelect: =Set(VP,ThisItem.Id)
            Size: =LookUp(c_EnvironmentVariable,'Display Name'="Text Medium Font Size").'Default Value'
            TabIndex: =0
            Text: =ThisItem.Title
            Width: ='Type Filter_2'.Width/2
            ZIndex: =2

        Rectangle31_2 As rectangle:
            BorderColor: =RGBA(0, 18, 107, 1)
            Fill: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
            Height: =2
            OnSelect: =Select(Parent)
            Visible: =If(VP=ThisItem.Id,true,false)
            Width: =135
            X: =80
            Y: =49
            ZIndex: =3

    Main_screen_search_bar_3 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =13

        TextInput2_8 As text:
            AccessibleLabel: ="Search"
            BorderColor: =RGBA(208, 231, 233, 1)
            BorderThickness: =2
            Color: =RGBA(0, 0, 0, 1)
            Default: =""
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            FocusedBorderThickness: =4
            Height: =50
            HintText: ="Search by Lead, Account or Contact"
            HoverBorderColor: =RGBA(208, 231, 233, 1)
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =RGBA(0, 0, 0, 0)
            PaddingLeft: =50
            PressedFill: =
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Size: =15
            Width: =585
            X: =27
            Y: =154
            ZIndex: =8

        Image17_5 As image:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledFill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =4
            Height: =24
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverFill: =RGBA(0, 0, 0, 0)
            Image: ='Vector (5)'
            PressedBorderColor: =RGBA(0, 0, 0, 0)
            PressedFill: =RGBA(0, 0, 0, 0)
            Width: =29
            X: =41
            Y: =167
            ZIndex: =9

