"'Visit Info' As screen":
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    OnHidden: |
        =UpdateContext({v_LocationNeeded: false});
    OnVisible: |-
        =If(
            IsBlank(varCustomerRecord.Longitude) || IsBlank(varCustomerRecord.Latitude),
            UpdateContext({v_LocationNeeded: true}),
            UpdateContext({v_LocationNeeded: false})
        );
        Set(
            primarydata,
            Blank()
        );
        Set(
            secondarydata,
            Blank()
        );
        Set(
            _VarActivetopTabID,
            1
        );
        Set(
            varSelectedTabId,
            1
        )

    Header_18 As Header:
        Fill: =RGBA(255, 255, 255, 1)
        ScreenName: |-
            =//"Visit Info"
            'Top Gallery_1'.Selected.Title

    "'Salesorder container' As groupContainer.manualLayoutContainer":
        Height: =896
        Visible: =_VarActivetopTabID=3
        Width: =640
        Y: =191
        ZIndex: =4

        "'Order Info Gallery_3' As gallery.galleryVertical":
            AccessibleLabel: ="Order Info Gallery"
            BorderColor: =RGBA(153, 207, 236, 1)
            BorderStyle: =BorderStyle.None
            Fill: =ColorValue(LookUp(c_EnvironmentVariable, 'Display Name'="Light Red").'Default Value')
            Height: =827
            Items: |-
                =FirstN(
                    Filter(
                        OfflineOrderHeaderCollection,
                        'Order Type' = 'Order Type Choice'.Primary && 'Order From'.Parties = varCustomerforDiscount && 'Owning User'.'Primary Email'= User().Email
                    ),
                    5
                )
            Layout: =Layout.Vertical
            ShowScrollbar: =false
            TabIndex: =0
            TemplateSize: =230
            Visible: |-
                =true
                //'Top Gallery'.Selected.TabId=5
            Width: =620
            X: =10
            Y: =22
            ZIndex: =2

            Button43_5 As button:
                DisabledBorderColor: =RGBA(153, 207, 236, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(255, 255, 255, 1)
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(56, 96, 178, 1)
                FontWeight: =FontWeight.Semibold
                Height: =207
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                RadiusBottomLeft: =15
                RadiusBottomRight: =15
                RadiusTopLeft: =15
                RadiusTopRight: =15
                Size: =24
                Text: =""
                Width: =610
                ZIndex: =1

            Button5_5 As button:
                BorderColor: =Color.Black
                BorderStyle: =BorderStyle.None
                BorderThickness: =0
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(255, 255, 255, 1)
                FontWeight: =FontWeight.Semibold
                Height: =204
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =Color.White
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                Size: =24
                Text: =""
                Width: =1
                ZIndex: =2

            Rectangle1_10 As rectangle:
                AccessibleLabel: ="Rectangle1_9"
                BorderColor: =RGBA(0, 18, 107, 1)
                Fill: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//_VarGblAppColors.PrimaryRed
                Height: =1
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                TabIndex: =0
                Width: ='Order Info Gallery_3'.TemplateWidth
                Y: =74
                ZIndex: =3

            Body1_39 As label:
                BorderColor: =RGBA(0, 18, 107, 1)
                Color: |-
                    =//_VarGblAppColors.PrimaryText
                    
                    
                    
                    ColorValue(LookUp(c_EnvironmentVariable, 'Display Name'="Text Primary Color").'Default Value')
                DisabledColor: =RGBA(166, 166, 166, 1)
                FocusedBorderThickness: =01
                Font: |-
                    =LookUp(c_EnvironmentVariable, 'Display Name'="Text Heading Font").'Default Value'
                    
                    //_VarGblAppFonts.Heading
                FontWeight: =FontWeight.Bold
                Height: =75
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                Size: =16
                TabIndex: =0
                Text: |-
                    ="Order No:" 
                Tooltip: |-
                    =
                    "Order To: " & ThisItem.'Order ID'
                Width: =290
                Wrap: =false
                X: =90
                ZIndex: =5

            Body1_49 As label:
                BorderColor: =RGBA(0, 18, 107, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                FocusedBorderThickness: =01
                Font: |-
                    =LookUp(c_EnvironmentVariable, 'Display Name'="Text Heading Font").'Default Value'
                    
                    //_VarGblAppFonts.Heading
                FontWeight: =FontWeight.Semibold
                Height: =64
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                Size: |-
                    =
                    LookUp('Environment Variable Definitions', 'Display Name'="Text Sub Title Font Size").'Default Value'
                TabIndex: =0
                Text: |-
                    ="Customer Name: " & ThisItem.'Order From'.'Customer Name'
                Tooltip: |-
                    ="Order To: " & ThisItem.'Order To'.'Customer Name'
                Width: =522
                X: =25
                Y: =85
                ZIndex: =7

            Body1_54 As label:
                BorderColor: =RGBA(0, 18, 107, 1)
                Color: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//_VarGblAppColors.PrimaryRed
                DisabledColor: =RGBA(166, 166, 166, 1)
                FocusedBorderThickness: =01
                Font: |-
                    =LookUp(c_EnvironmentVariable, 'Display Name'="Text Heading Font").'Default Value'
                    
                    //_VarGblAppFonts.Heading
                FontWeight: =FontWeight.Semibold
                Height: =39
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                Size: |-
                    =
                    LookUp('Environment Variable Definitions', 'Display Name'="Text Sub Title Font Size").'Default Value'
                TabIndex: =0
                Text: |-
                    ="Order Value: " &"₹"&ThisItem.'Total Bill Amount'
                Tooltip: |-
                    ="Total Bill Amount: " &"₹"&ThisItem.'Total Bill Amount'
                Width: =290
                X: =320
                Y: =149
                ZIndex: =8

            Body1_50 As label:
                BorderColor: =RGBA(0, 18, 107, 1)
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                FocusedBorderThickness: =01
                Font: |-
                    =LookUp(c_EnvironmentVariable, 'Display Name'="Text Heading Font").'Default Value'
                    
                    //_VarGblAppFonts.Heading
                FontWeight: =FontWeight.Semibold
                Height: =39
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                Size: |-
                    =
                    LookUp('Environment Variable Definitions', 'Display Name'="Text Sub Title Font Size").'Default Value'
                TabIndex: =0
                Text: |-
                    ="Order Date: " & DateValue(ThisItem.'Order Date')
                Tooltip: |-
                    =
                    "Total Tax: " &"₹"& Sum(ThisItem.CGST,ThisItem.SGST,ThisItem.IGST)
                Width: =290
                X: =25
                Y: =149
                ZIndex: =9

            Circle18_4 As circle:
                AccessibleLabel: ="Text"
                BorderColor: =RGBA(0, 18, 107, 1)
                Fill: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//_VarGblAppColors.PrimaryRed
                Height: =50
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                TabIndex: =0
                Width: =50
                X: =20
                Y: =10
                ZIndex: =10

            Label79_3 As label:
                BorderColor: =RGBA(0, 18, 107, 1)
                Color: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//_VarGblAppColors.PrimaryRed
                DisabledColor: =RGBA(166, 166, 166, 1)
                Height: =75
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                Size: =16
                TabIndex: =0
                Text: =ThisItem.'Order ID'
                Width: =290
                X: =216
                ZIndex: =11

            Label80_4 As label:
                Align: =Align.Center
                BorderColor: =RGBA(0, 18, 107, 1)
                Color: =RGBA(255, 255, 255, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                FontWeight: =FontWeight.Semibold
                OnSelect: |-
                    =Navigate('order detail screen',ScreenTransition.CoverRight);
                    //Set(varOrderData, ThisItem);
                    Set(
                            primarydata,
                            ThisItem
                        );
                        Set(
                            secondarydata,
                            ThisItem
                        );
                     
                TabIndex: =0
                Text: =Left(Upper(ThisItem.'Order From'.'First Name'),1) & Left(Upper(ThisItem.'Order From'.'Last Name'),1)
                Width: =40
                X: =26
                Y: =16
                ZIndex: =12

            Button1_5 As button:
                BorderColor: =RGBA(0, 0, 0, 0)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                FontWeight: =FontWeight.Semibold
                Height: =50
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(Self.Fill, -10%)
                OnSelect: |-
                    =ClearCollect(
                        colOrderLine,
                        Filter(
                            OfflineOrderLineCollection,
                            'Order Header'.'Order Header' = ThisItem.'Order Header'
                        )
                    );
                    Set(
                        varParty,
                        ThisItem.'Order From'.'Customer Name'
                    );
                    Set(
                        varActivated,
                        ThisItem.'Order From'.'Credit Activated'
                    );
                    Set(
                        varRemainingCreditLimit,
                        Text(
                            RoundUp(
                                Value(ThisItem.'Order From'.'Remaining Credit Limit'),
                                2
                            ),
                            "[$-en-US]#,###.00"
                        )
                    );
                    If(
                        ThisItem.'Order Type' = 'Order Type Choice'.Primary,
                        Set(
                            primarydata,
                            ThisItem
                        );
                        ForAll(
                            colOrderLine As oneline,
                            If(
                                (CountRows(colPrimaryCart) = 0) || IsBlank(
                                    LookUp(
                                        colPrimaryCart,
                                        productSKU = oneline.'Product SKU'.'Product SKU'
                                    )
                                ),
                                Collect(
                                    colPrimaryCart,
                                    {
                                        productName: oneline.'Product SKU'.'Item Name',
                                        product: oneline.Product.Product,
                                        baseUnitPrice: oneline.'Unit Price',
                                        productSKU: oneline.'Product SKU'.'Product SKU',
                                        quantity: Text(oneline.Quantity),
                                        Variant: oneline.Variant.Name,
                                        discount: oneline.'Discount %',
                                        cgstAmount: ThisItem.CGST,
                                        sgstAmount: ThisItem.SGST,
                                        igstAmount: ThisItem.IGST,
                                        cessAmount: ThisItem.'Cess %'
                                    }
                                )
                            );
                        );
                        Navigate(
                            'Primary Cart Screen',
                            ScreenTransition.CoverRight
                        ),
                        ThisItem.'Order Type' = 'Order Type Choice'.Secondary,
                        Set(
                            secondarydata,
                            ThisItem
                        );
                        ForAll(
                            colOrderLine As oneline,
                            If(
                                (CountRows(colSecondaryCart) = 0) || IsBlank(
                                    LookUp(
                                        colSecondaryCart,
                                        productSKU = oneline.'Product SKU'.'Product SKU'
                                    )
                                ),
                                Collect(
                                    colSecondaryCart,
                                    {
                                        productName: oneline.'Product SKU'.'Item Name',
                                        product: oneline.Product.Product,
                                        baseUnitPrice: oneline.'Unit Price',
                                        productSKU: oneline.'Product SKU'.'Product SKU',
                                        quantity: Text(oneline.Quantity),
                                        Variant: oneline.Variant.Name,
                                        discount: oneline.'Discount %',
                                        cgstAmount: ThisItem.CGST,
                                        sgstAmount: ThisItem.SGST,
                                        igstAmount: ThisItem.IGST,
                                        cessAmount: ThisItem.'Cess %'
                                    }
                                )
                            );
                        );
                        Navigate(
                            'Secondary Cart Screen',
                            ScreenTransition.CoverRight
                        )
                    )
                PressedBorderColor: =ColorFade(RGBA(0, 120, 212, 1), -50%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =ColorFade(Self.Fill, -30%)
                Size: =16
                Text: ="Re-Order"
                Width: =180
                X: =407
                Y: =10
                ZIndex: =13

    "'Book Order Cont' As groupContainer.manualLayoutContainer":
        Height: =896
        Visible: =_VarActivetopTabID=2
        Width: =640
        Y: =191
        ZIndex: =5

        "'Product List_2' As 'Product List'":
            Height: =896
            OrderType: |-
                =If(
                    varCustomertype = 'Party Type Choices'.Distributor || varCustomertype = 'Party Type Choices'.Dealer,
                    "Primary",
                    "Secondary"
                )

    "'Customer Container' As groupContainer.manualLayoutContainer":
        Height: =864
        Visible: =_VarActivetopTabID=4
        Width: =640
        Y: =191
        ZIndex: =8

    "'Top Gallery_1' As gallery.galleryHorizontal":
        AccessibleLabel: ="Top Bar"
        BorderColor: =RGBA(0, 18, 107, 1)
        BorderStyle: =BorderStyle.None
        FocusedBorderThickness: =
        Height: =60
        Items: |-
            =Table(
                
                {
                    Title: "Book Order",
                    TabId: 2
                },
                {
                    Title: "Sales Order",
                    TabId: 3
                },
                {
                    Title: "Customer 360",
                    TabId: 4
                },
                {
                    Title: "Activities",
                    TabId: 5
                },
                {
                    Title: "Leads",
                    TabId: 6
                },
                {
                    Title: "Inventory",
                    TabId: 7
                },
                {
                    Title: "Complaints",
                    TabId: 8
                },
                {
                    Title: "Quotes",
                    TabId: 9
                },
                {
                    Title: "Invoice",
                    TabId: 10
                },
                {
                    Title: "Payments",
                    TabId: 11
                }
            )
        OnSelect: =Set(_VarActivetopTabID, ThisItem.TabId)
        ShowScrollbar: =false
        TabIndex: =0
        TemplatePadding: =0
        TemplateSize: =181
        Width: =630
        X: =10
        Y: =131
        ZIndex: =15

        title_5 As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: |-
                =If(ThisItem.IsSelected, ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//_VarGblAppColors.PrimaryRed
                 ,ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Text Primary Color").'Default Value' ))
            DisabledColor: =RGBA(166, 166, 166, 1)
            FocusedBorderThickness: =0.3
            FontWeight: =FontWeight.Semibold
            Height: =48
            OnSelect: =Set(_VarActivetopTabID, ThisItem.TabId)
            Size: =LookUp(c_EnvironmentVariable,'Display Name'="Text Medium Font Size").'Default Value'
            TabIndex: =0
            Text: =ThisItem.Title
            Width: =176
            ZIndex: =2

        Border_7 As button:
            BorderColor: |-
                =If(ThisItem.IsSelected, ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//_VarGblAppColors.PrimaryRed
                 , Color.White)
            BorderStyle: =BorderStyle.None
            Color: =
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: =RGBA(0, 0, 0, 0)
            FocusedBorderThickness: =2.5
            FontWeight: =FontWeight.Semibold
            Height: =45
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =
            OnSelect: =Set(_VarActivetopTabID, ThisItem.TabId)
            RadiusBottomLeft: =30
            RadiusBottomRight: =30
            RadiusTopLeft: =30
            RadiusTopRight: =30
            Size: =24
            Text: =""
            Width: =175
            X: =1
            Y: =3
            ZIndex: =3

        Rectangle40_1 As rectangle:
            BorderColor: =RGBA(0, 18, 107, 1)
            Fill: |-
                =If(ThisItem.IsSelected,ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//_VarGblAppColors.PrimaryRed
                ,Color.Transparent)
            Height: =3
            OnSelect: =Set(_VarActivetopTabID, ThisItem.TabId)
            X: =15
            Y: =48
            ZIndex: =4

    "'Bottom Bar_11' As 'Bottom Bar'":
        Fill: =RGBA(255, 255, 255, 1)
        Y: =1026
        ZIndex: =16

    Group3 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =17

        backdrop_6 As rectangle:
            BorderColor: =RGBA(0, 18, 107, 1)
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(153, 153, 153, 0.59)
            Height: =1136
            Visible: =v_LocationNeeded
            Width: =App.Width
            ZIndex: =9

        "'filter button_3' As button":
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =333
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =25
            RadiusTopRight: =25
            Size: =24
            Text: =""
            Visible: =v_LocationNeeded
            Width: =640
            Y: =296
            ZIndex: =10

        Button20_6 As button:
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: |-
                =//RGBA(204, 204, 204, 1)
                ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
            FontWeight: =FontWeight.Semibold
            Height: =60
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
            OnSelect: |
                =
                
                
                Patch('Parties.S', 
                
                varCustomerRecord, {Latitude:Location.Latitude, Longitude:Location.Longitude});
                
                UpdateContext({v_LocationNeeded: false});
            RadiusBottomLeft: =15
            RadiusBottomRight: =15
            RadiusTopLeft: =15
            RadiusTopRight: =15
            Size: =24
            Text: ="Yes"
            Visible: =v_LocationNeeded
            Width: =231
            X: =49
            Y: =510
            ZIndex: =11

        Button20_7 As button:
            DisabledBorderColor: =RGBA(166, 166, 166, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: |-
                =//RGBA(204, 204, 204, 1)
                ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )//ColorValue(LookUp(c_EnvironmentVariable,'Display Name'="Button Fill").'Default Value' )
            FontWeight: =FontWeight.Semibold
            Height: =59
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
            OnSelect: |-
                =
                UpdateContext({v_LocationNeeded: false});
                Back();
            RadiusBottomLeft: =15
            RadiusBottomRight: =15
            RadiusTopLeft: =15
            RadiusTopRight: =15
            Size: =24
            Text: ="No"
            Visible: =v_LocationNeeded
            Width: =231
            X: =367
            Y: =510
            ZIndex: =12

        Label4_4 As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(166, 166, 166, 1)
            FontWeight: =FontWeight.Semibold
            Height: =130
            Size: =LookUp(c_EnvironmentVariable,'Display Name'="Text Medium Font Size").'Default Value'
            Text: ="Customer Location is missing. Do you want to add your location? If yes Press ""Yes"""
            Visible: =v_LocationNeeded
            Width: =640
            Y: =339
            ZIndex: =13

